<!-- Add Question Component -->
<app-js-create *ngIf="!editState"></app-js-create>

<!-- Question List -->
<div *ngIf="questions?.length > 0; else noItems">
  <ul class="collection" *ngFor="let question of questions">
    <ng-container *ngIf="question.state === 0">
      <li class="collection-item flex justify-content-space-between">
        <strong>{{question.title}}</strong>
        <div *ngIf="!editState">
          <i (click)="editQuestion($event, question)" class="material-icons edit-icon">edit</i>
          <i href="#modal1" (click)="currentQuestion(question)" class="material-icons delete-icon modal-trigger">delete</i>
        </div>
      </li>
      <li class="collection-item">{{question.answer}}</li>
    </ng-container>

    <!-- Edit Question Form-->
    <div *ngIf="question.state === 1 && questionToEdit.id === question.id">
      <div class="card">
        <div class="card-content">
          <span class="card-title">Edytuj pytanie</span>
          <form>
            <div class="row">
              <div class="input-field">
                <input type="text" placeholder="Dodaj tytuł" [(ngModel)]="question.title" name="title">
              </div>
              <div class="input-field">
                <textarea placeholder="Dodaj odpowiedź" [(ngModel)]="question.answer" name="answer" id="textarea1" class="materialize-textarea"></textarea>
              </div>
              <input (click)="updateQuestion(question)" type="btn" value="Zapisz" class="btn blue">
              <input (click)="cancelEdit(question)" type="btn" value="Anuluj" class="btn grey">
            </div>
          </form>
        </div>
      </div>
    </div>
  </ul>
</div>

<!-- No elements -->
<ng-template #noItems>
  <hr>
  <h5>Brak elementów do wyświetlenia</h5>
</ng-template>


<!-- Modal -->
<div id="modal1" class="modal">
  <div class="modal-content">
    <h6>Czy na pewno chcesz usunąć pytanie?</h6>
  </div>
  <div class="modal-footer">
    <a (click)="deleteQuestion()"  class="modal-close waves-effect waves-green btn-flat blue">Tak</a>
    <a class="modal-close waves-effect waves-green btn-flat grey">Nie</a>
  </div>
</div>
